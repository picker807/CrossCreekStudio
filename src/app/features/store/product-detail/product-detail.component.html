<div class="container mx-auto p-4 flex justify-center">
  <!-- Loading State -->
  <div *ngIf="loading" class="text-center">
    <p>Loading product details...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error && !loading" class="text-red-500 text-center">
    <p>{{ error }}</p>
  </div>

  <!-- Product Details -->
  <div *ngIf="product && !loading && !error" class="flex flex-col md:flex-row gap-6 max-w-4xl w-full">
    <!-- Slideshow -->
    <div class="w-full md:w-1/2 relative">
      <div *ngIf="product.images && product.images.length > 0" class="relative">
        <img 
          [src]="product.images[currentImageIndex]" 
          [alt]="product.name" 
          class="w-full h-auto rounded shadow object-cover max-w-full"
        >
        <!-- Arrows -->
        <button 
          *ngIf="product.images.length > 1" 
          (click)="prevImage()" 
          class="absolute left-2 top-1/2 transform -translate-y-1/2 bg-gray-800 bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75"
        >
          ◀
        </button>
        <button 
          *ngIf="product.images.length > 1" 
          (click)="nextImage()" 
          class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-gray-800 bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75"
        >
          ▶
        </button>
      </div>
      <p *ngIf="!product.images || product.images.length === 0" class="text-gray-500 text-center">
        No images available
      </p>
    </div>

    <!-- Product Info -->
    <div class="w-full md:w-1/2 flex flex-col items-center md:items-start">
      <h1 class="text-3xl font-bold mb-2 text-center md:text-left">{{ product.name }}</h1>
      <p class="text-xl text-green-600 mb-4">{{ product.price }}</p>
      <p class="text-gray-700 mb-4 text-center md:text-left">{{ product.description }}</p>

      <!-- Quantity Controls -->
      <div class="flex items-center mb-4">
        <button 
          (click)="adjustQuantity(-1)" 
          [disabled]="quantity <= 1" 
          class="bg-gray-300 text-black py-1 px-3 rounded-l hover:bg-gray-400 disabled:opacity-50"
        >-</button>
        <span class="px-4 py-1 border-t border-b">{{ quantity }}</span>
        <button 
          (click)="adjustQuantity(1)" 
          class="bg-gray-300 text-black py-1 px-3 rounded-r hover:bg-gray-400"
        >+</button>
      </div>

      <!-- Add to Cart Button -->
      <button 
        (click)="addToCart()" 
        class="bg-blue-500 text-white py-2 px-6 rounded hover:bg-blue-600"
      >
        Add to Cart
      </button>
    </div>
  </div>
</div>