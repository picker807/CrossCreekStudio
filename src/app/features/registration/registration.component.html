<!-- event-registration.component.html -->
<div class="max-w-4xl mx-auto p-4">
  <h1 class="text-3xl font-bold text-gray-800">{{ event.name }}</h1>
  <div class="flex flex-wrap justify-center">
    <div *ngFor="let image of event.images" class="m-2 max-w-xs">
      <img class="max-h-64 w-full object-contain" src="{{image.imageUrl}}" alt="{{ event.name }} Image">
    </div>
  </div>
  
  <p class="mt-2 text-lg"><strong>Date:</strong> {{ event.date | date:'fullDate' }}</p>
  <p class="text-lg"><strong>Location:</strong> {{ event.location }}</p>
  <p class="text-lg mb-4"><strong>Description:</strong> {{ event.description }}</p>

  <div class="mt-8">
    <h2 class="text-2xl font-bold text-center text-gray-800 mb-4">1. Provide your information</h2>
    <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()" class="bg-white p-6 rounded-lg shadow-md">
      <div class="mb-4">
        <label for="firstName" class="block mb-2 text-sm font-medium text-gray-700">First Name</label>
        <input id="firstName" formControlName="firstName" placeholder="First Name" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
      </div>
      <div class="mb-4">
        <label for="lastName" class="block mb-2 text-sm font-medium text-gray-700">Last Name</label>
        <input id="lastName" formControlName="lastName" placeholder="Last Name" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
      </div>
      <div class="mb-4">
        <label for="email" class="block mb-2 text-sm font-medium text-gray-700">Email</label>
        <input id="email" type="email" formControlName="email" placeholder="Email" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
      </div>
      <button type="submit" [disabled]="!registrationForm.valid" class="w-full px-4 py-2 font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50">Register</button>
    </form>
  </div>

  <div *ngIf="showPaymentButton" class="mt-8">
    <h2 class="text-2xl font-bold text-center text-gray-800 mb-4">2. Payment</h2>
    <p *ngIf="isUserInEvent" class="text-center text-lg text-gray-700">You are already part of the event. No payment required.</p>
    <button (click)="makePayment()" [disabled]="isUserInEvent" class="w-full px-4 py-2 font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50">Pay Now</button>
  </div>
</div>
